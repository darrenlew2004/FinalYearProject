play.http.secret.key = "6c1e0b3d2a5f7c9e1a3b5d7f9c2e4a6b8d0f1a2c3e4b5d6f7a8b9c0d1e2f3a4b"

# Allowed hosts in dev
play.filters.hosts.allowed = [
  "localhost",
  "127.0.0.1"
]

play.i18n.langs = [ "en" ]

# CORS (enable for Vite dev server on 5173)
play.filters.enabled += "play.filters.cors.CORSFilter"
play.filters.cors.allowedOrigins = ["http://localhost:5173", "http://127.0.0.1:5173"]
play.filters.cors.allowedOriginPatterns = [".*"]
play.filters.cors.allowedHttpMethods = ["GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS"]
play.filters.cors.allowedHttpHeaders = ["Accept", "Origin", "Content-Type", "Authorization"]
play.filters.cors.exposedHeaders = ["Authorization"]
play.filters.cors.supportsCredentials = true

# Disable CSRF for API routes
play.filters.csrf.bypass.routes = [
  { method: "POST", path: "/api/v1/.*" },
  { method: "PUT",  path: "/api/v1/.*" },
  { method: "PATCH", path: "/api/v1/.*" },
  { method: "DELETE", path: "/api/v1/.*" },
  { method: "OPTIONS", path: "/api/v1/.*" }
]


# Database (H2 in-memory) and Evolutions
db.default.driver = org.h2.Driver
db.default.url = "jdbc:h2:mem:crp;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false"
db.default.username = sa
db.default.password = ""

play.evolutions.enabled = true
play.evolutions.autoApply = true

